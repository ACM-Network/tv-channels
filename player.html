<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Advanced Video Player with Video.js</title>
<link href="https://vjs.zencdn.net/7.15.4/video-js.css" rel="stylesheet">
<style>
    body {
        margin: 0;
        padding: 0;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        background-color: #f0f0f0;
    }
    .video-js {
        width: 100%;
        max-width: 800px;
    }
</style>
</head>
<body>

<video id="myVideo" class="video-js vjs-default-skin" controls preload="auto" data-setup='{}'>
    <source src="" type="application/x-mpegURL">
    Your browser does not support HTML5 video.
</video>

<script src="https://vjs.zencdn.net/7.15.4/video.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/videojs-contrib-quality-levels@2.2.0/dist/videojs-contrib-quality-levels.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/videojs-contrib-hls@5.15.0/dist/videojs-contrib-hls.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/videojs-contrib-dash@2.11.0/dist/videojs-contrib-dash.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/videojs-contrib-eme@6.2.0/dist/videojs-contrib-eme.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/videojs-contrib-ads@7.4.1/dist/videojs-contrib-ads.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/videojs-ima@2.7.1/dist/videojs.ima.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/videojs-contrib-advanced-vr@2.0.0/dist/videojs-advanced-vr.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/videojs-hotkeys@0.3.0/dist/videojs.hotkeys.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/videojs-seek-buttons@1.0.1/dist/videojs-seek-buttons.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/videojs-thumbnails@2.0.0/dist/videojs-thumbnails.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/videojs-watermark@0.1.1/dist/videojs-watermark.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/videojs-contextmenu-ui@2.2.1/dist/videojs-contextmenu-ui.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/videojs-playlist@4.3.0/dist/videojs-playlist.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/videojs-resolution-switcher@0.4.2/dist/videojs-resolution-switcher.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/videojs-contrib-quality-levels@2.2.0/dist/videojs-contrib-quality-levels.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/videojs-thumbnails@2.0.0/dist/videojs-thumbnails.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/videojs-resolution-switcher@0.4.2/dist/videojs-resolution-switcher.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/videojs-wavesurfer@2.0.0/dist/videojs.wavesurfer.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/videojs-overlay@1.1.4/dist/videojs-overlay.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/videojs-chapters@1.0.0/dist/videojs-chapters.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/videojs-chromecast@2.4.1/dist/videojs-chromecast.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/videojs-playback-rate@1.0.0/dist/videojs-playback-rate.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/videojs-share@1.0.0/dist/videojs-share.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/videojs-analytics@1.0.0/dist/videojs-analytics.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/videojs-bookmark@1.0.0/dist/videojs-bookmark.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/videojs-related@1.0.0/dist/videojs-related.min.js"></script>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const urlParams = new URLSearchParams(window.location.search);
        const streamUrl = urlParams.get('url');

        if (!streamUrl) {
            alert('No stream URL provided.');
            return;
        }

        const player = videojs('myVideo');
        player.src({
            src: streamUrl,
            type: 'application/x-mpegURL'
        });

        // Quality Levels Plugin (for HLS)
        player.qualityLevels();

        // Subtitles Track (optional)
        player.addRemoteTextTrack({
            kind: 'captions',
            label: 'English',
            src: 'path_to_your_subtitle.vtt',
            srclang: 'en',
            default: true // Set this to true for default subtitles
        });

        // Audio Tracks (optional)
        player.audioTracks().addTrack({
            enabled: true,
            label: 'English',
            language: 'en',
            src: streamUrl
        });

        // Ads Plugin (optional)
        player.ima({
            adTagUrl: 'https://your.adserver.com/ad.xml',
            serverUrl: 'https://your.adserver.com/',
            requestMode: 'onplay'
        });

        // VR Plugin (optional)
        player.vr({
            projection: '360',
            debug: true
        });

        // Hotkeys Plugin (optional)
        player.hotkeys({
            volumeStep: 0.1,
            seekStep: 5,
            enableFullscreen: true,
            enableNumbers: true,
            enableMute: true
        });

        // Seek Buttons Plugin (optional)
        player.seekButtons({
            forward: 10,
            back: 10
        });

        // Thumbnails Plugin (optional)
        player.thumbnails({
            1: {
                src: 'path_to_thumbnail_1.jpg',
                width: 120,
                height: 90,
                time: 10
            },
            2: {
                src: 'path_to_thumbnail_2.jpg',
                width: 120,
                height: 90,
                time: 20
            }
            // Add more thumbnails as needed
        });

        // Watermark Plugin (optional)
        player.watermark({
            file: 'path_to_watermark.png',
            xPos: 10,
            yPos: 10,
            clickable: true,
            url: 'https://yourwebsite.com'
        });

        // Context Menu Plugin (optional)
        player.contextmenu({
            entries: [
                { text: 'Custom Menu Item', onClick: function(){ console.log('Custom menu clicked'); } },
                { text: 'Another Item', href: 'https://example.com', target: '_blank' }
            ]
        });

        // Playlist Plugin (optional)
        player.playlist([
            {
                sources: [{
                    src: streamUrl,
                    type: 'application/x-mpegURL'
                }],
                poster: 'path_to_playlist_poster.jpg',
                title: 'Video Title 1'
            },
            {
                sources: [{
                    src: 'https://another-stream-url.m3u8',
                    type: 'application/x-mpegURL'
                }],
                poster: 'path_to_another_poster.jpg',
                title: 'Video Title 2'
            }
            // Add more playlist items as needed
        ]);

        // Resolution Switcher Plugin (optional)
        player.resolutionSwitcher({
            default: 'high', // Default resolution
            dynamicLabel: true, // Show resolution label dynamically
            options: [
                { id: 'low', label: 'Low' },
                { id: 'high', label: 'High' }
                // Add more options as needed
            ]
        });

        // Waveform Plugin (optional)
        player.wavesurfer({
            backend: 'MediaElement',
            waveColor: '#36393b',
            progressColor: '#2ebd59',
            cursorColor: '#ff0000',
            interact: true,
            hideScrollbar: true
        });

        // Overlay Plugin (optional)
        player.overlay({
            overlays: [{
                content: 'Overlay text',
                start: 'playing',
                end: 'pause',
                align: 'bottom-left'
            }]
        });

        // Chapters Plugin (optional)
        player.chapters({
            chapters: [{
                title: 'Introduction',
                startTime: 0
            }, {
                title: 'Middle',
                startTime: 60
            }, {
                title: 'End',
                startTime: 120
            }]
        });

        // Chromecast Plugin (optional)
        player.chromecast();

        // Playback Rate Plugin (optional)
        player.playbackRate({
            rates: [0.5, 1.0, 1.5, 2.0]
        });

        // Share Plugin (optional)
        player.share({
            url: window.location.href
        });

        // Analytics Plugin (optional)
        player.analytics({
            events: ['play', 'pause', 'ended']
        });

        // Bookmark Plugin (optional)
        player.bookmark({
            bookmarks: []
        });

        // Related Videos Plugin (optional)
        player.related({
            videos: [{
                title: 'Related Video 1',
                description: 'Description of related video 1',
                url: 'https://related-video-url-1.m3u8',
                poster: 'path_to_related_poster_1.jpg'
            }, {
                title: 'Related Video 2',
                description: 'Description of related video 2',
                url: 'https://related-video-url-2.m3u8',
                poster: 'path_to_related_poster_2.jpg'
            }]
        });
    });
</script>

</body>
</html>
